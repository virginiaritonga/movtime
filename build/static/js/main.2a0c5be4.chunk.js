(this.webpackJsonpmovtime=this.webpackJsonpmovtime||[]).push([[0],{39:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(32),i=c.n(s),r=(c(39),c(9)),l=c(2),o=c(0),d=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"inner-content",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)(r.b,{to:"/",children:Object(o.jsx)("img",{src:"logo.svg",width:"53px",height:"44px"})})}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/",children:"Watch List"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/watched",children:"Watched"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/add",className:"btn",children:"+ Add Movie"})})]})]})})})},j=c(13),h=c(19),b=c(8),O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(h.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(b.a)(Object(b.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},u={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},m=Object(a.createContext)(u),v=function(e){var t=Object(a.useReducer)(O,u),c=Object(j.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(n.watchlist)),localStorage.setItem("watched",JSON.stringify(n.watched))}),[n]);return Object(o.jsx)(m.Provider,{value:{watchlist:n.watchlist,watched:n.watched,addMovieToWatchlist:function(e){s({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){s({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){s({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){s({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){s({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},x=c(15),f=c(16),p=c(18),g=c(17),w=function(e){Object(p.a)(c,e);var t=Object(g.a)(c);function c(){var e;Object(x.a)(this,c);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={greeting:""},e.getHour=function(){var t=(new Date).getHours();e.setState({hour:t}),t<12&&e.setState({greeting:"morning"}),t>=12&&t<=18&&e.setState({greeting:"afternoon"}),t>=18&&t<=24&&e.setState({greeting:"evening"})},e}return Object(f.a)(c,[{key:"componentDidMount",value:function(){this.getHour()}},{key:"render",value:function(){var e=this.state.greeting;return Object(o.jsxs)("div",{className:"greeting",children:[Object(o.jsx)("h2",{children:"Good ".concat(e,",")}),Object(o.jsx)("p",{children:"Let's get back to your movie time! \ud83d\ude0a"})]})}}]),c}(n.a.Component),N=function(e){var t=e.movie,c=e.type,n=Object(a.useContext)(m),s=n.removeMovieFromWatchlist,i=n.addMovieToWatched,r=n.moveToWatchlist,l=n.removeFromWatched;return Object(o.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(t)},children:Object(o.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return s(t.id)},children:Object(o.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(t)},children:Object(o.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(o.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(t.id)},children:Object(o.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},y=function(e){var t=e.movie,c=e.type;return Object(o.jsxs)("div",{className:"movie-card",children:[Object(o.jsx)("div",{className:"overlay"}),t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(o.jsx)("div",{className:"filler-poster"}),Object(o.jsx)(N,{type:c,movie:t})]})},_=c(34),M=c.n(_),T=function(e){Object(p.a)(c,e);var t=Object(g.a)(c);function c(){var e;Object(x.a)(this,c);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).adviceRef=n.a.createRef(),e.state={advice:""},e.fetchAdvice=function(){M.a.get("https://api.adviceslip.com/advice").then((function(t){var c=t.data.slip.advice;e.setState({advice:c})})).catch((function(e){console.log(e)}))},e}return Object(f.a)(c,[{key:"componentDidMount",value:function(){this.fetchAdvice()}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"app",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("p",{className:"quotes",children:Object(o.jsxs)("i",{children:['"',this.state.advice,'"']})})})})}}]),c}(n.a.Component),C=function(){var e=Object(a.useContext)(m).watchlist;return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"movie-page",children:[Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(w,{}),Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"heading",children:"My Watchlist"}),Object(o.jsxs)("span",{className:"count-pill",children:[e.length," Movies"]})]}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(o.jsx)(y,{movie:e,type:"watchlist"})}))}):Object(o.jsx)("h2",{className:"no-movies",children:"No movies in watchlist"})]}),Object(o.jsx)(T,{})]})})},S=function(){var e=Object(a.useContext)(m).watched;return Object(o.jsx)("div",{className:"movie-page",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"heading",children:"Watched Movies"}),Object(o.jsxs)("span",{className:"count-pill",children:[e.length," Movies"]})]}),e.length>0?Object(o.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(o.jsx)(y,{movie:e,type:"watched"})}))}):Object(o.jsx)("h2",{className:"no-movies",children:"No movies in watchlist"}),Object(o.jsx)(T,{})]})})},W=function(e){var t=e.movie,c=t.overview.split(".").slice(0,1)+".",n=Object(a.useContext)(m),s=n.addMovieToWatchlist,i=n.addMovieToWatched,r=n.watchlist,l=n.watched,d=r.find((function(e){return e.id===t.id})),j=l.find((function(e){return e.id===t.id})),h=!!d||!!j,b=!!j;return Object(o.jsxs)("div",{className:"result-card",children:[Object(o.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"`${movie.title} Poster`"}):Object(o.jsx)("div",{className:"filler-poster"})}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h3",{className:"title",children:t.title}),Object(o.jsx)("h4",{className:"release-date",children:t.release_date?t.release_date.substring(0,4):"-"}),Object(o.jsx)("p",{children:c})]}),Object(o.jsxs)("div",{className:"controls",children:[Object(o.jsx)("button",{className:"btn",disabled:h,onClick:function(){return s(t)},children:"Add to Watchlist"}),Object(o.jsx)("button",{className:"btn",disabled:b,onClick:function(){return i(t)},children:"Add to Watched"})]})]})]})},E=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(j.a)(s,2),r=i[0],l=i[1];return Object(o.jsx)("div",{className:"add-section",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"add-content",children:[Object(o.jsx)("div",{className:"input-wrapper",children:Object(o.jsx)("input",{type:"text",placeholder:"Search a movie",value:c,onChange:function(e){e.preventDefault(),n(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=5c32a646c68a28330c10ecb19080baf1&language=en-US&page=1&include_adult=false&query=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})}),r.length>0&&Object(o.jsx)("ul",{className:"results",children:r.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(W,{movie:e})},e.id)}))})]})})})};c(67),c(68);var A=function(){return Object(o.jsx)(v,{children:Object(o.jsxs)(r.a,{children:[Object(o.jsx)(d,{}),Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",children:Object(o.jsx)(C,{})}),Object(o.jsx)(l.a,{path:"/watched",children:Object(o.jsx)(S,{})}),Object(o.jsx)(l.a,{path:"/add",children:Object(o.jsx)(E,{})})]})]})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,70)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root")),I()}},[[69,1,2]]]);
//# sourceMappingURL=main.2a0c5be4.chunk.js.map